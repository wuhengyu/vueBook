import { JSDOM } from 'jsdom';

'use strict';

// 创建一个新的 DOM 实例
const dom = new JSDOM('<!DOCTYPE html><html><body></body></html>');
const { window } = dom;
global.window = window;
global.document = window.document;
global.navigator = window.navigator;


var _0x45f4 = ['newbook', 'isSupportFreeMemberShip', 'childNodes', 'device_icon\x20device_icon_Other', 'defineProperty', 'maxFreeChapter', 'function\x20*\x5c(\x20*\x5c)', 'video', 'union', 'book', 'allBooks', 'indexInFullHtml', 'height:', 'push', 'done', 'getWidth', 'fontStyle', 'bookId', 'end', 'fromBookId', 'data-ratio', 'inverse-background-', 'offsetLeft', 'replace', 'concat', 'value', 'type', 'return', 'alt', 'span', 'allBookIds', 'pos', '7400', 'round', 'src=', 'abstract', 'transparent', 'createHash', 'newbook_novel_male', 'substring', 'nodeHeight', 'chapter', 'indexOf', 'some', 'range', 'boundingClientRect', 'getBackground', 'get', 'rgb(', 'shiftString', '\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20', 'borderRadius', 'px);', 'decryption', '../', 'sort', 'node', 'chapterUid', 'next', 'borderRight', 'layout', 'ObjType', '__esModule', 'filter', 'CategoryId', '<div\x20class=\x22wr_decoration', 'novel_female_series', 'number', 'className', 'first4Books', 'isEmpty', 'charCodeAt', 'decoration', 'WeixinJSBridge', 'src', 'SYNC', 'prelude', 'enc', 'hasOwnProperty', 'colorOnBlack', 'getNodeOffsetLeftRaw', 'centerY', 'openkey', 'getNodeHeightRaw', 'top', 'isLimitFree', 'slice', 'audio', 'device_icon\x20device_icon_Moan', 'addEventListener', 'colors', 'table', '<body', '<span\x20data-wr-id=\x22layout\x22\x20data-wr-co=\x22%%OFFSET%%\x22>', 'getComputedStyle', 'getBrowser', 'star', 'html', 'chapterIdx', 'isBuyUnitChapter', 'isFriendShip', 'midasMoney', 'novel_male_rising', 'role', 'border-right', 'floor', 'nodeName', 'getTextLength', 'Identifier', 'device_icon\x20device_icon_LianXiang', 'getCustomTagStyle', 'reader_footer_note', 'forEach', 'bind', '2400000', 'inDevelopment', '0px', 'loop', 'isFree', 'Hanvon', 'generate', 'start', 'valign', 'isClosing', 'canvasPositions', 'tag', 'constructor', 'NoteTypeBookmark', 'buyGoods', 'isPaidCard', 'bookInfo', 'function', 'isLeftOn', 'ReviewListTypeBookFriendTop', 'getBorder', 'isTextOrCanvasType', 'loaded', 'data-w-new', 'getAllTransform', 'border-left:', 'bottom', 'idx', 'transform:\x20translate(', '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}', 'ReviewTypeRecommend', 'needMoney', 'getNodeFontRaw', 'default', 'join', 'content', 'toString', 'WeixinJSBridgeReady', 'color:', 'match', 'top:', 'getComputedHeight', 'books', 'mark', 'Note', 'rect', 'test', 'style', 'srcHtml', '_offset', 'markText', 'walk', 'wrap', 'alpha', 'fileName', 'px;top:', 'device_icon\x20device_icon_Hisense', 'inverse-color-', 'webpackJsonp', 'ReviewListTypeBookTop', 'right', 'length', 'getHeight', 'getAttribute', 'max', 'minipay', 'MAX_VALUE', 'preRenderContents', 'createTime', 'width', 'split', 'apply', 'align', 'Firefox', 'Moan', 'showText', 'contentLengthAndIndex', 'href', 'offsetTop', 'getDecorationTagStyle', 'min', 'font-family:$1,\x22PingFang\x20SC\x22,\x20-apple-system,\x20\x22SF\x20UI\x20Text\x22,\x20\x20\x22Lucida\x20Grande\x22,\x20STheiti,\x20\x22Microsoft\x20YaHei\x22,\x20sans-serif;', 'chrome', 'rootHeight', 'canvas', 'isMemberShipValid', 'YOGA\x20Paper', 'getRandomNumber', 'archive', '$&\x20class=\x22', 'updateFirstInChapter', 'series', 'midas', 'styleText', 'newrating_publish', 'exec', '<p\x20class=\x22chapterContent_p\x22\x20data-wr-co=\x22', 'ReviewTypeDiscuss', 'Style', 'qdqb,qbqd,pcbank,qqwallet,qqcard,mcard,hfpay', 'audio_rising', 'background-color'];
(function (_0x59b43b, _0x45f428) {
  var _0x290431 = function (_0x2aaed4) {
    while (--_0x2aaed4) {
      _0x59b43b['push'](_0x59b43b['shift']());
    }
  };
  _0x290431(++_0x45f428);
}(_0x45f4, 0x1dd));
var _0x2904 = function (_0x59b43b, _0x45f428) {
  _0x59b43b = _0x59b43b - 0x0;
  var _0x290431 = _0x45f4[_0x59b43b];
  return _0x290431;
};
(window['webpackJsonp'] = window[_0x2904('0x7f')] || [])[_0x2904('0xb8')]([[0x0], {
  1209: function (_0x2a8a8d, _0x21d5c1, _0x530497) {
    'use strict';
    var _0x58cb85 = _0x530497(0x479)
      , _0x245023 = _0x530497(0x1bd);
    function _0x417eaa(_0x299120) {
      for (var _0x5ea97 = arguments[_0x2904('0x82')] > 0x1 && void 0x0 !== arguments[0x1] ? arguments[0x1] : 0x15, _0x5532ba = '', _0x455c4b = 0x0, _0x53dfe1 = _0x299120['length']; _0x455c4b < _0x53dfe1; _0x455c4b += 0x2)
        _0x5532ba += String['fromCharCode'](parseInt(_0x299120['slice'](_0x455c4b, _0x455c4b + 0x2), _0x5ea97));
      return _0x5532ba;
    }
    function _0x278a1d(_0x40a066) {
      if (!_0x40a066 || 'string' != typeof _0x40a066 || _0x40a066['length'] <= 0x1)
        return '';
      var _0x415591 = _0x40a066['slice'](0x1);
      return _0x415591 = function (_0x49edbf) {
        var _0x54e807 = function () {
          var _0x1a0858 = _0x49edbf['length'];
          if (_0x1a0858 < 0x4)
            return [];
          if (_0x1a0858 < 0xb)
            return [0x0, 0x2];
          for (var _0x1eab72 = Math['min'](0x4, Math['ceil'](_0x1a0858 / 0xa)), _0x11824d = '', _0x4c3cfc = _0x1a0858 - 0x1; _0x4c3cfc > _0x1a0858 - 0x1 - _0x1eab72; _0x4c3cfc--) {
            var _0x521b60 = _0x49edbf['charCodeAt'](_0x4c3cfc);
            _0x11824d += parseInt(_0x521b60[_0x2904('0x69')](0x2), 0x4);
          }
          for (var _0x3dd53a = _0x1a0858 - _0x1eab72 - 0x2, _0x20165 = _0x3dd53a['toString']()['length'], _0x8631b0 = [], _0x35f650 = 0x0; _0x8631b0['length'] < 0xa && _0x35f650 + _0x20165 < _0x11824d[_0x2904('0x82')]; _0x35f650 += _0x20165) {
            var _0x2a4a4d = parseInt(_0x11824d[_0x2904('0x29')](_0x35f650, _0x35f650 + _0x20165));
            _0x8631b0[_0x2904('0xb8')](_0x2a4a4d % _0x3dd53a),
              _0x2a4a4d = parseInt(_0x11824d[_0x2904('0x29')](_0x35f650 + 0x1, _0x35f650 + 0x1 + _0x20165)),
              _0x8631b0['push'](_0x2a4a4d % _0x3dd53a);
          }
          return _0x8631b0;
        }();
        return function (_0x3e51dc, _0x4c6679) {
          for (var _0x11769c = _0x3e51dc['split'](''), _0x5a51e7 = _0x4c6679['length'] - 0x1; _0x5a51e7 >= 0x0; _0x5a51e7 -= 0x2)
            for (var _0x354a0b = 0x1; _0x354a0b >= 0x0; _0x354a0b--) {
              var _0x52800d = _0x11769c[_0x4c6679[_0x5a51e7] + _0x354a0b];
              _0x11769c[_0x4c6679[_0x5a51e7] + _0x354a0b] = _0x11769c[_0x4c6679[_0x5a51e7 - 0x1] + _0x354a0b],
                _0x11769c[_0x4c6679[_0x5a51e7 - 0x1] + _0x354a0b] = _0x52800d;
            }
          return _0x11769c['join']('');
        }(_0x49edbf, _0x54e807);
      }(_0x415591),
        _0x415591 = _0x58cb85[_0x417eaa('334d5a4h2c2a')][_0x417eaa('4g4h4f564g4h')](_0x415591);
    }
    _0x2a8a8d['exports'] = {
      'chk': function (_0x197a98) {
        if (!_0x197a98 || _0x197a98['length'] <= 0x20)
          return _0x197a98;
        var _0x4b1a90 = _0x197a98['slice'](0x0, 0x20)
          , _0x104938 = _0x197a98['slice'](0x20);
        return _0x4b1a90 === _0x245023[_0x2904('0xd0')]('md5')['update'](_0x104938)['digest']('hex')['toUpperCase']() ? _0x104938 : '';
      },
      'dT': function (_0x37e3f4) {
        return _0x37e3f4 && 0x0 !== _0x37e3f4['length'] ? _0x278a1d(_0x37e3f4) : '';
      },
      'dH': function (_0x4c81cb) {
        return _0x4c81cb && 0x0 !== _0x4c81cb['length'] ? _0x278a1d(_0x4c81cb) : '';
      },
      'dS': function (_0x1fc5fe) {
        return _0x1fc5fe && 0x0 !== _0x1fc5fe[_0x2904('0x82')] ? _0x278a1d(_0x1fc5fe) : '';
      },
      'cs': _0x417eaa
    };
  },
}]);


// window['webpackJsonp'] = window['webpackJsonp'] || [];
// window['webpackJsonp'].push([0, 0, 0, function (__webpack_require__) {
//   // 这里应该是你的模块加载完成后的代码
//   // 确保在调用 _0x278a1d 之前，它已经被定义
//   let encryptedData = 'PPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhRE9DVFlQRSBodG17yFBVQkxJQyAiLS8vVzNDLy9EVEQgWEhUTUwgM5pxLy9FTiINCiAgImh0dHA6Ly93d3cudzMub3JnL1RSL3hodG1sMTEvRFREL3hodG1sMTEuZHRkIj4NCg0KPGh0bWwgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPg0KPGhlYWQ+DQogIDx0aXRsZT48L3RpdGxlPg0KICA8bGluayBocmVmPSIuLi9TdHlsZXMvc3R5bGVzaGVldHMuY3NzIiByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIi8';
//   let decryptedData = _0x278a1d(encryptedData);
//   console.log('解密后的字符串:', decryptedData);
// }]);


window['webpackJsonp'] = window['webpackJsonp'] || [];
window['webpackJsonp'].push([
  // 模块ID，这里假设为1
  1,
  // 依赖项，这里假设没有外部依赖
  [],
  // 执行函数，这里我们将加载包含 _0x278a1d 函数的模块
  function (__webpack_require__) {
    // 这里应该是加载模块的代码
    // 例如，如果你的模块是通过一个特定的路径加载的，你可以在这里动态导入它
    // const myModule = __webpack_require__(/* 模块路径 */);
    // 然后你可以使用 myModule 中的 _0x278a1d 函数
  }
]);

// 在这里，你可以调用 _0x278a1d 函数，前提是它已经被加载
let encryptedData = 'PPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhRE9DVFlQRSBodG17yFBVQkxJQyAiLS8vVzNDLy9EVEQgWEhUTUwgM5pxLy9FTiINCiAgImh0dHA6Ly93d3cudzMub3JnL1RSL3hodG1sMTEvRFREL3hodG1sMTEuZHRkIj4NCg0KPGh0bWwgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPg0KPGhlYWQ+DQogIDx0aXRsZT48L3RpdGxlPg0KICA8bGluayBocmVmPSIuLi9TdHlsZXMvc3R5bGVzaGVldHMuY3NzIiByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIi8';
let decryptedData = _0x278a1d(encryptedData);
console.log('解密后的字符串:', decryptedData);